
<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Compute Servers &mdash; CoCalc Manual  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />

  
    <link rel="shortcut icon" href="_static/favicon-32x32.png"/>
    <link rel="canonical" href="https://doc.cocalc.com/compute_server.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="https://cocalc.com/analytics.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Pay-As-You-Go Purchase" href="paygo.html" />
    <link rel="prev" title="Licenses" href="licenses.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="https://doc.cocalc.com/compute_server.html"/>
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="index.html" class="icon icon-home"> CoCalc Manual
  <img src="_static/_static/cocalc-doc-logo.svg" class="logo" alt="Logo"/>
</a>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with.html">Working With</a></li>
<li class="toctree-l1"><a class="reference internal" href="platform.html">Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_interface.html">User Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="service_options.html">Service Options</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="trial.html">Trial Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="licenses.html">Licenses</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Compute Servers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#examples-of-compute-server-uses">Examples of Compute Server Uses</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-compute-server">Creating a Compute Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-a-compute-server">Using a Compute Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#billing-for-a-compute-server">Billing for a Compute Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compute-server-filesystem">Compute Server Filesystem</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="paygo.html">Pay-As-You-Go Purchase</a></li>
<li class="toctree-l2"><a class="reference internal" href="vouchers.html">Vouchers</a></li>
<li class="toctree-l2"><a class="reference internal" href="on-premises.html">On-Premises CoCalc</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker-image.html">CoCalc Docker Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="cocalc-cloud.html">CoCalc Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="cocalc-desktop.html">CoCalc Desktop</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="teaching.html">Teaching</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
  <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
  <a href="index.html">CoCalc Manual</a>

      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="contents.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="service_options.html">Service Options</a></li>
      <li class="breadcrumb-item active">Compute Servers</li>
<li class="wy-breadcrumbs-aside" style="padding: 0;">
  <a
    class="fa fa-question-circle"
    href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!"
    style="background-color: #daeefb; color: black; border: 3px solid #2980b9; padding: 2px 5px; border-radius: 4px;"
  >
    Ask us a Question!
  </a>
</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="compute-servers">
<span id="index-0"></span><span id="id1"></span><h1>Compute Servers<a class="headerlink" href="#compute-servers" title="Permalink to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#examples-of-compute-server-uses" id="id12">Examples of Compute Server Uses</a></p></li>
<li><p><a class="reference internal" href="#creating-a-compute-server" id="id13">Creating a Compute Server</a></p></li>
<li><p><a class="reference internal" href="#using-a-compute-server" id="id14">Using a Compute Server</a></p></li>
<li><p><a class="reference internal" href="#billing-for-a-compute-server" id="id15">Billing for a Compute Server</a></p></li>
<li><p><a class="reference internal" href="#compute-server-filesystem" id="id16">Compute Server Filesystem</a></p></li>
</ul>
</nav>
<p>A compute server in CoCalc is a remote computer, whose resources (GPUs, CPUs, RAM, disks) you can utilize via CoCalc’s collaborative interface in Jupyter notebooks and terminals. It is a way to open up possibilities for enhanced computing resources, extending far beyond the bounds of local machines.</p>
<p>To create a compute server, you select the software image, hardware and (optional) GPU, and can then start running any Jupyter notebook or Linux terminal on this server for an on-demand fee, charged by the second when the server is in use.</p>
<p>The GPU support is extensive, offering variants including A100 80GB, A100 40GB, L4, and T4 GPUs with finely configured software stacks. These stack images include SageMath, Google Colab, Julia, PyTorch, Tensorflow and CUDA Toolkit, accommodating a versatile range of uses. The compute servers come at highly competitive pricing, particularly for spot instances.</p>
<section id="examples-of-compute-server-uses">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Examples of Compute Server Uses</a><a class="headerlink" href="#examples-of-compute-server-uses" title="Permalink to this heading"></a></h2>
<p>You may find something useful, at least some inspiration, in our growing <a class="reference external" href="https://github.com/sagemathinc/cocalc-howto/blob/main/README.md">collection of tutorials</a> that make use of compute servers. You can either read them or follow along video versions. Here William explains how to run Google Colab environment on compute servers and use either Tensorflow or PyTorch:</p>
<center><iframe width="640" height="360" src="https://www.youtube.com/embed/kcxyShH3wYE?si=rGZEWZgs6XbOF38u" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></center>
<br/></section>
<section id="creating-a-compute-server">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Creating a Compute Server</a><a class="headerlink" href="#creating-a-compute-server" title="Permalink to this heading"></a></h2>
<p>There are multiple ways to create a compute server, one of them is to click the <strong>Server</strong> button:</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="_images/compute_server_creating_2.png"><img alt="Creating a Compute Server" src="_images/compute_server_creating_2.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text">Creating a Compute Server</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>You will be prompted to select the desired software image and optionally one or more GPUs.</p>
<p>If you are going to write code using CUDA libraries, choose the “Cuda Toolkit” image. If you want to accelerate PyTorch computations with a GPU, choose the “PyTorch” image. If you want to use SageMath, choose the “SageMath” image. Note that image selection does depend on the presence of a GPU.</p>
<p>Adjust the hardware parameters according to your needs. Take some time to look over the options! You will be able to edit CPU and RAM when the machine is off (if it also has a GPU, currently it will have to be deprovisioned), so if you don’t quite know what you need - make a guess! If it turns out that you need something more or less powerful, you can easily make an adjustment. For example, in this video William uses a machine with 60 CPU cores and 240GB of RAM to build SageMath from source in under 18 minutes:</p>
<center><iframe width="640" height="360" src="https://www.youtube.com/embed/b8e8qq-KWbA?si=Y9N6ZtcVKo3fD9Fn" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></center><p>After the build is done, William changes the machine type to have only 2 CPU cores and 8GB of RAM - such a machine is very cheap to run even 24/7! The disk size can be increased even when the machine is running. Unfortunately, you currently can’t move the machine from one region or zone to another unless it is deprovisioned, and the prices do depend on the region - this will change in the future.</p>
<p>Start your compute server!</p>
</section>
<section id="using-a-compute-server">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">Using a Compute Server</a><a class="headerlink" href="#using-a-compute-server" title="Permalink to this heading"></a></h2>
<p>Your freshly created compute server does <em>not</em> replace your CoCalc project, but rather complements it. This is why you have to explicitly indicate that you want to run your terminal or Jupyter notebook on a particular compute server, and you can have multiple ones running at the same time! Click the <strong>Server</strong> button and select the one you want to use:</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="_images/compute_server_notebook.png"><img alt="Connecting a Compute Server to a Notebook" src="_images/compute_server_notebook.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text">Connecting a Compute Server to a Notebook</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>You will get a confirmation dialog, reminding you that the current kernel will be stopped and a new one will have to be started on the compute server:</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="_images/compute_server_confirmation.png"><img alt="Confirming the Choice of a Compute Server" src="_images/compute_server_confirmation.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text">Confirming the Choice of a Compute Server</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>It is possible that the type of kernel used in your notebook is not available on the compute server (and vice versa). In this case you will need to choose another one:</p>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="_images/compute_server_kernel.png"><img alt="Picking a Kernel on a Compute Server" src="_images/compute_server_kernel.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text">Picking a Kernel on a Compute Server</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The server bar appearing above the notebook allows you to quickly see where the notebook is running and shows the name you have given to this server, its unique ID, and the image used. Click on this bar to see more details about the server:</p>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="_images/compute_server_status.png"><img alt="Compute Server Status" src="_images/compute_server_status.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text">Compute Server Status</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In order to use the Linux command line, e.g., compilers, etc., create a terminal file (one ending in .term) and connect it to a compute server in the same way. If you chose the “CUDA Toolkit” image, then the <code class="docutils literal notranslate"><span class="pre">nvcc</span></code> command will be available for compiling <code class="docutils literal notranslate"><span class="pre">.cu</span></code> code. See <a class="reference external" href="https://github.com/sagemathinc/cocalc-howto/blob/main/cuda.md">this tutorial</a> for details.</p>
</section>
<section id="billing-for-a-compute-server">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Billing for a Compute Server</a><a class="headerlink" href="#billing-for-a-compute-server" title="Permalink to this heading"></a></h2>
<p>A compute server is billed by the second and the price depends on its state:</p>
<ul class="simple">
<li><p><strong>Running</strong> - the server is ready to perform your tasks, you pay for all of its resources and this is the price shown when creating a server</p></li>
<li><p><strong>Suspended</strong> - this is an analog of closing your laptop lid, you pay for the disk space and storing RAM state, but not for CPUs (compute servers with GPUs cannot be suspended)</p></li>
<li><p><strong>Off</strong> - this is an analog of shutting down your laptop, you pay only for the disk space and local data is available to you when you start the server again</p></li>
<li><p><strong>Deprovisioned</strong> - this is like writing down the model number of your laptop on paper, it costs nothing and when you start the server it will have the same characteristics, but all data that was not synced to your CoCalc project is gone.</p></li>
</ul>
<p>In the example below the running cost is $0.30/hour while the disk cost is less than a penny! Notice the extra zero in $0.004 that appears when you hover over the <strong>Stop</strong> button (hovering over the cost per hour will also show the cost per month):</p>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="_images/compute_server_cost.png"><img alt="Compute Server Cost" src="_images/compute_server_cost.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text">Compute Server Cost</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="compute-server-filesystem">
<h2><a class="toc-backref" href="#id16" role="doc-backlink">Compute Server Filesystem</a><a class="headerlink" href="#compute-server-filesystem" title="Permalink to this heading"></a></h2>
<p>In order to smoothly and successfully use a compute server, it is essential to understand how its filesystem interacts with your CoCalc project.</p>
<p>For the most part, all files in your CoCalc project conveniently appear in your home folder on the compute server and you can use them in a regular way. File changes inside of your CoCalc project and on your compute server can be synced both ways. This works great for Jupyter notebooks, for example. However, this convenience is still bound by laws of physics and because of network transfers involved it is much slower than modern local disks. You are also limited by your CoCalc disk quota.</p>
<p>If you need to read or write massive amounts of data, e.g. for data science or machine learning, or the programs you are running operate with a lot of files, e.g. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> with a large repository, you do need to use local fast directories on your compute server. These directories are configured in the compute server settings when you create or edit one:</p>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="_images/compute_server_fast_data.png"><img alt="Fast Data Directories" src="_images/compute_server_fast_data.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">Fast Data Directories</span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>As intended, these directories are <em>NOT</em> visible in your CoCalc project:</p>
<figure class="align-center" id="id9">
<a class="reference internal image-reference" href="_images/compute_server_project_files.png"><img alt="File Explorer on Project" src="_images/compute_server_project_files.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">File Explorer on Project</span><a class="headerlink" href="#id9" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In order to see them, to open files in them, or to open even synced files on the compute server without extra steps, connect your file explorer to the compute server in the same way as with notebooks and terminals, using the <strong>Server</strong> button. Now the fast data directories are visible (you can certainly have more than one):</p>
<figure class="align-center" id="id10">
<a class="reference internal image-reference" href="_images/compute_server_files.png"><img alt="File Explorer on Compute Server" src="_images/compute_server_files.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">File Explorer on Compute Server</span><a class="headerlink" href="#id10" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>When you edit files via CoCalc graphical interface, they are usually synced between the project and the compute server automatically. However, if you are using <code class="docutils literal notranslate"><span class="pre">vim</span></code> or some other tool in a terminal, or just want the files to be synced immediately, you may need to click the <strong>Sync Files</strong> button:</p>
<figure class="align-center" id="id11">
<a class="reference internal image-reference" href="_images/compute_server_sync_files.png"><img alt="Sync Files Button for a Compute Server" src="_images/compute_server_sync_files.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">Sync Files Button for a Compute Server</span><a class="headerlink" href="#id11" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="licenses.html" class="btn btn-neutral float-left" title="Licenses" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="paygo.html" class="btn btn-neutral float-right" title="Pay-As-You-Go Purchase" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Sagemath, Inc., CC BY-4.0 licensed.</p>
  </div>

  

<div role="contentinfo">
  <p>
    Please contact us for <a href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!">Questions and Feedback</a>,
    <a href="https://github.com/sagemathinc/cocalc-doc/">Documentation Repository</a>,
    <a href="https://cocalc.com/policies/">Privacy Policy and ToS</a>.
   </p>
   <p>
    <a href="https://github.com/sagemathinc/cocalc-doc/edit/master/source/compute_server.rst" class="fa fa-github"> Edit this page on GitHub</a>
  </p>
  <p>
    <strong><a href="https://cocalc.com/app">Start CoCalc</a></strong> – start free, upgrade later!
  </p>
</div>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
   
  <a class="github cocalcbanner" href="https://cocalc.com/app?anonymous=true">
     <img alt="Start CoCalc"
          class="github"
          src="_static/start-cocalc.png"
          style="position: fixed; top: 0; right: 0; border: 0; height: 75px; width: 75px">
  </a>


</body>
</html>